C51 COMPILER V9.60.7.0   MAIN                                                              11/21/2023 22:15:18 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: E:\Applications\Keil_5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(..\Driver;..\Sys) DEB
                    -UG OBJECTEXTEND PRINT(.\Listings\main.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          # include "bsp_init.h"
   2          # include "Int.h"
   3          # include "bsp_led.h"
   4          
   5          
   6          
   7          /*私有变量*/
   8          unsigned char ucLed;//控制灯亮灭的字节变量，0x01=0001 0001 ，L8~L1
   9          
  10          
  11          
  12          
  13          void main()
  14          {
  15   1              Cls_Peripheral();//关闭外设
  16   1              Int_init();//外中断0和外中断1初始化
  17   1              while(1);
  18   1              
  19   1      }
  20          
  21          //函数名：外中断0的中断服务函数
  22          //入口参数：无
  23          //返回值：无
  24          //函数功能：完成LEDX的翻转
  25          isr_intr_0() interrupt 0
  26          {
  27   1              
  28   1      //传统方法      
  29   1      //      if((ucLed & 0x01) == 0)
  30   1      //              ucLed = ucLed | 0x01;//如果最后一位为0，将最后一位置1，其他位不能动。ucLed |= 0x01
  31   1      //      else 
  32   1      //              ucLed = ucLed & 0xFE;//如果最后一位为1，将最后一位复0，其他位不能动。
  33   1              
  34   1              
  35   1      //现代promax方法
  36   1              ucLed ^= 0x01;
  37   1              //上述原理解释如下
  38   1              //ucLed = ucLed ^ 0x01，相异为1，相同为0，
  39   1              //用0作为靶子，和另外一个位异或，会保持原来的数不变
  40   1              //用1作为靶子，和另外一个位异或，会让原来的数翻转
  41   1              //ucLed = 0101 0101
  42   1              //        0000 0001
  43   1              //        0101 0100
  44   1              //所以说，如果想让某个变量的某一位单独翻转，不影响其他位数据，可以采用异或，靶子数值就是要瞄准的位。
  45   1              
  46   1              Led_Disp(ucLed);
  47   1              
  48   1      }
  49          
  50          //函数名：外中断1的中断服务函数
  51          //入口参数：无
  52          //返回值：无
  53          //函数功能：完成LEDX的翻转
  54          isr_intr_1() interrupt 2
C51 COMPILER V9.60.7.0   MAIN                                                              11/21/2023 22:15:18 PAGE 2   

  55          {
  56   1              
  57   1      //传统方法      
  58   1      //      if((ucLed & 0x02) == 0)
  59   1      //              ucLed = ucLed | 0x02;//如果最后一位为0，将最后一位置1，其他位不能动。
  60   1      //      else 
  61   1      //              ucLed = ucLed & 0xFD;//如果最后一位为1，将最后一位复0，其他位不能动。
  62   1              
  63   1              
  64   1      //现代promax方法
  65   1              ucLed ^= 0x02;
  66   1              
  67   1              Led_Disp(ucLed);
  68   1              
  69   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    136    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
