C51 COMPILER V9.60.7.0   MAIN                                                              11/30/2023 22:17:11 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: E:\Applications\Keil_5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(..\Driver;..\Sys) DEB
                    -UG OBJECTEXTEND PRINT(.\Listings\main.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          # include "timer.h"
*** WARNING C329 IN LINE 8 OF ..\Sys\timer.h: single-line comment contains line-continuation
*** WARNING C329 IN LINE 9 OF ..\Sys\timer.h: single-line comment contains line-continuation
*** WARNING C329 IN LINE 17 OF ..\Sys\timer.h: single-line comment contains line-continuation
*** WARNING C329 IN LINE 18 OF ..\Sys\timer.h: single-line comment contains line-continuation
   2          # include "bsp_seg.h"
   3          # include "bsp_init.h"
   4          # include "STDIO.H"
   5          
   6          //全局变量
   7          unsigned char disp_data = 123;//待显示的数据
   8          unsigned char seg_string[10];//给小数点和结束符保留了2个空间的字符串数组
   9          unsigned char seg_buf[8];//段码数组和数码管一一对应
  10          unsigned char pos=0;//数码管要显示的位置
  11          
  12          
  13          
  14          main()
  15          {
  16   1              
  17   1              Cls_Peripheral();//关闭外设
  18   1              Timer1Init();//定时器1被征用到数码管显示1ms一次的控制。
  19   1              EA = 1;//打开总中断
  20   1              
  21   1              sprintf(seg_string, "%8u", (unsigned int)disp_data);//seg_string→_ _ _ _ _ 1 2 3 \0
  22   1              Seg_Tran(seg_string, seg_buf);//将字符串内容转换到数组中seg_buf→0xbf 0xbf 0xbf 0xbf 0xbf 0xf9 0xa4 0xb0 
  23   1              
  24   1              while(1);
  25   1      
  26   1      }
  27          
  28          
  29          
  30          
  31          //-----------------------------------------------
  32          /* Timer1_interrupt routine */
  33          void tm1_isr() interrupt 3
  34          {
  35   1              Seg_Disp(seg_buf, pos);
  36   1              pos++;
  37   1              if(pos == 8)
  38   1                      pos = 0;
  39   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    129    ----
   CONSTANT SIZE    =      4    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     20    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.

C51 COMPILER V9.60.7.0   MAIN                                                              11/30/2023 22:17:11 PAGE 2   


C51 COMPILATION COMPLETE.  4 WARNING(S),  0 ERROR(S)
