//记住wela[]，Y7-0xe0,Y6-0xc0;清空，位选，段选&=0x7f为point。数组与变量不能同名
#include <Seg.h>

code unsigned char Seg_dula[]={0xc0,0xf9,0xa4,0xb0,0x99,0x92,0x82,0xf8,0x80,0x90,0xff,0xbf,0xc6,0x89,0x8e,0x8c,0x86,0x88};//-CHFPEA
code unsigned char Seg_wela[]={0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80};

void Seg_Disp(unsigned char wela,dula,point)
{
	P0=0XFF;
	P2=P2&0x1f |0xe0;//Y7
	P2 &=0x1f;
	
	P0=Seg_wela[wela];
	P2=P2&0x1f |0xc0;//Y6
	P2 &=0x1f;
	
	P0=Seg_dula[dula];
	if(point)
		P0 &=0x7f;
	P2=P2&0x1f |0xe0;//Y7
	P2 &=0x1f;
}