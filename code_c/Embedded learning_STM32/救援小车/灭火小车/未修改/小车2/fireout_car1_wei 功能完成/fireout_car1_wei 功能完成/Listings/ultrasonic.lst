C51 COMPILER V9.60.0.0   ULTRASONIC                                                        10/02/2023 19:46:33 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE ULTRASONIC
OBJECT MODULE PLACED IN .\Objects\ultrasonic.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE ultrasonic.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listing
                    -s\ultrasonic.lst) TABS(2) OBJECT(.\Objects\ultrasonic.obj)

line level    source

   1          #include <REGX51.H>
   2          #include "reg52.h"
*** ERROR C231 IN LINE 13 OF C:\Keil_v5\C51\Inc\reg52.h: 'P0': redefinition
*** ERROR C231 IN LINE 14 OF C:\Keil_v5\C51\Inc\reg52.h: 'P1': redefinition
*** ERROR C231 IN LINE 15 OF C:\Keil_v5\C51\Inc\reg52.h: 'P2': redefinition
*** ERROR C231 IN LINE 16 OF C:\Keil_v5\C51\Inc\reg52.h: 'P3': redefinition
*** ERROR C231 IN LINE 17 OF C:\Keil_v5\C51\Inc\reg52.h: 'PSW': redefinition
*** ERROR C231 IN LINE 18 OF C:\Keil_v5\C51\Inc\reg52.h: 'ACC': redefinition
*** ERROR C231 IN LINE 19 OF C:\Keil_v5\C51\Inc\reg52.h: 'B': redefinition
*** ERROR C231 IN LINE 20 OF C:\Keil_v5\C51\Inc\reg52.h: 'SP': redefinition
*** ERROR C231 IN LINE 21 OF C:\Keil_v5\C51\Inc\reg52.h: 'DPL': redefinition
*** ERROR C231 IN LINE 22 OF C:\Keil_v5\C51\Inc\reg52.h: 'DPH': redefinition
*** ERROR C231 IN LINE 23 OF C:\Keil_v5\C51\Inc\reg52.h: 'PCON': redefinition
*** ERROR C231 IN LINE 24 OF C:\Keil_v5\C51\Inc\reg52.h: 'TCON': redefinition
*** ERROR C231 IN LINE 25 OF C:\Keil_v5\C51\Inc\reg52.h: 'TMOD': redefinition
*** ERROR C231 IN LINE 26 OF C:\Keil_v5\C51\Inc\reg52.h: 'TL0': redefinition
*** ERROR C231 IN LINE 27 OF C:\Keil_v5\C51\Inc\reg52.h: 'TL1': redefinition
*** ERROR C231 IN LINE 28 OF C:\Keil_v5\C51\Inc\reg52.h: 'TH0': redefinition
*** ERROR C231 IN LINE 29 OF C:\Keil_v5\C51\Inc\reg52.h: 'TH1': redefinition
*** ERROR C231 IN LINE 30 OF C:\Keil_v5\C51\Inc\reg52.h: 'IE': redefinition
*** ERROR C231 IN LINE 31 OF C:\Keil_v5\C51\Inc\reg52.h: 'IP': redefinition
*** ERROR C231 IN LINE 32 OF C:\Keil_v5\C51\Inc\reg52.h: 'SCON': redefinition
*** ERROR C231 IN LINE 33 OF C:\Keil_v5\C51\Inc\reg52.h: 'SBUF': redefinition
*** ERROR C231 IN LINE 45 OF C:\Keil_v5\C51\Inc\reg52.h: 'CY': redefinition
*** ERROR C231 IN LINE 46 OF C:\Keil_v5\C51\Inc\reg52.h: 'AC': redefinition
*** ERROR C231 IN LINE 47 OF C:\Keil_v5\C51\Inc\reg52.h: 'F0': redefinition
*** ERROR C231 IN LINE 48 OF C:\Keil_v5\C51\Inc\reg52.h: 'RS1': redefinition
*** ERROR C231 IN LINE 49 OF C:\Keil_v5\C51\Inc\reg52.h: 'RS0': redefinition
*** ERROR C231 IN LINE 50 OF C:\Keil_v5\C51\Inc\reg52.h: 'OV': redefinition
*** ERROR C231 IN LINE 51 OF C:\Keil_v5\C51\Inc\reg52.h: 'P': redefinition
*** ERROR C231 IN LINE 54 OF C:\Keil_v5\C51\Inc\reg52.h: 'TF1': redefinition
*** ERROR C231 IN LINE 55 OF C:\Keil_v5\C51\Inc\reg52.h: 'TR1': redefinition
*** ERROR C231 IN LINE 56 OF C:\Keil_v5\C51\Inc\reg52.h: 'TF0': redefinition
*** ERROR C231 IN LINE 57 OF C:\Keil_v5\C51\Inc\reg52.h: 'TR0': redefinition
*** ERROR C231 IN LINE 58 OF C:\Keil_v5\C51\Inc\reg52.h: 'IE1': redefinition
*** ERROR C231 IN LINE 59 OF C:\Keil_v5\C51\Inc\reg52.h: 'IT1': redefinition
*** ERROR C231 IN LINE 60 OF C:\Keil_v5\C51\Inc\reg52.h: 'IE0': redefinition
*** ERROR C231 IN LINE 61 OF C:\Keil_v5\C51\Inc\reg52.h: 'IT0': redefinition
*** ERROR C231 IN LINE 64 OF C:\Keil_v5\C51\Inc\reg52.h: 'EA': redefinition
*** ERROR C231 IN LINE 65 OF C:\Keil_v5\C51\Inc\reg52.h: 'ET2': redefinition
*** ERROR C231 IN LINE 66 OF C:\Keil_v5\C51\Inc\reg52.h: 'ES': redefinition
*** ERROR C231 IN LINE 67 OF C:\Keil_v5\C51\Inc\reg52.h: 'ET1': redefinition
*** ERROR C231 IN LINE 68 OF C:\Keil_v5\C51\Inc\reg52.h: 'EX1': redefinition
*** ERROR C231 IN LINE 69 OF C:\Keil_v5\C51\Inc\reg52.h: 'ET0': redefinition
*** ERROR C231 IN LINE 70 OF C:\Keil_v5\C51\Inc\reg52.h: 'EX0': redefinition
*** ERROR C231 IN LINE 73 OF C:\Keil_v5\C51\Inc\reg52.h: 'PT2': redefinition
*** ERROR C231 IN LINE 74 OF C:\Keil_v5\C51\Inc\reg52.h: 'PS': redefinition
*** ERROR C231 IN LINE 75 OF C:\Keil_v5\C51\Inc\reg52.h: 'PT1': redefinition
*** ERROR C231 IN LINE 76 OF C:\Keil_v5\C51\Inc\reg52.h: 'PX1': redefinition
*** ERROR C231 IN LINE 77 OF C:\Keil_v5\C51\Inc\reg52.h: 'PT0': redefinition
*** ERROR C231 IN LINE 78 OF C:\Keil_v5\C51\Inc\reg52.h: 'PX0': redefinition
*** ERROR C231 IN LINE 81 OF C:\Keil_v5\C51\Inc\reg52.h: 'RD': redefinition
*** ERROR C231 IN LINE 82 OF C:\Keil_v5\C51\Inc\reg52.h: 'WR': redefinition
*** ERROR C231 IN LINE 83 OF C:\Keil_v5\C51\Inc\reg52.h: 'T1': redefinition
C51 COMPILER V9.60.0.0   ULTRASONIC                                                        10/02/2023 19:46:33 PAGE 2   

*** ERROR C231 IN LINE 84 OF C:\Keil_v5\C51\Inc\reg52.h: 'T0': redefinition
*** ERROR C231 IN LINE 85 OF C:\Keil_v5\C51\Inc\reg52.h: 'INT1': redefinition
*** ERROR C231 IN LINE 86 OF C:\Keil_v5\C51\Inc\reg52.h: 'INT0': redefinition
*** ERROR C231 IN LINE 87 OF C:\Keil_v5\C51\Inc\reg52.h: 'TXD': redefinition
*** ERROR C231 IN LINE 88 OF C:\Keil_v5\C51\Inc\reg52.h: 'RXD': redefinition
*** ERROR C231 IN LINE 91 OF C:\Keil_v5\C51\Inc\reg52.h: 'SM0': redefinition
*** ERROR C231 IN LINE 92 OF C:\Keil_v5\C51\Inc\reg52.h: 'SM1': redefinition
*** ERROR C231 IN LINE 93 OF C:\Keil_v5\C51\Inc\reg52.h: 'SM2': redefinition
*** ERROR C231 IN LINE 94 OF C:\Keil_v5\C51\Inc\reg52.h: 'REN': redefinition
*** ERROR C231 IN LINE 95 OF C:\Keil_v5\C51\Inc\reg52.h: 'TB8': redefinition
*** ERROR C231 IN LINE 96 OF C:\Keil_v5\C51\Inc\reg52.h: 'RB8': redefinition
*** ERROR C231 IN LINE 97 OF C:\Keil_v5\C51\Inc\reg52.h: 'TI': redefinition
*** ERROR C231 IN LINE 98 OF C:\Keil_v5\C51\Inc\reg52.h: 'RI': redefinition
   3          #include "Ultrasonic.h"
   4          
   5          //unsigned char buffer1[10];
   6          //unsigned char buffer2[10];
   7          //unsigned char buffer3[10];
   8          //sfr T2MOD=0xc9;
   9          void Ultrasonic_Init(void) //超声波定时器2初始化
  10          {
  11   1      
  12   1        T2CON = 0;      
  13   1        T2MOD = 0;  
*** ERROR C202 IN LINE 13 OF ultrasonic.c: 'T2MOD': undefined identifier
  14   1        TH2 = 0;
  15   1        TL2 = 0;  
  16   1        TR2 = 0;    
  17   1        TF2 = 0;
  18   1        
  19   1      }
  20          unsigned int Ultrasonic_Get_Front()//得到一次右超声波测距模块的距离
  21          {
  22   1        unsigned int time = 0;
  23   1        unsigned int distance = 0;
  24   1        
  25   1        TH2 = 0;
  26   1        TL2 = 0;  
  27   1        
  28   1        Trig_Front = 1; //发送trig信号
  29   1        somenop;somenop;
  30   1        Trig_Front = 0; //发送trig信号完毕
  31   1        while(Echo_Front==0);
  32   1        TR2=1;//开启计数
  33   1        while(TF2==0&&Echo_Front==1);//当Echo为1计数并等待
  34   1        TR2=0;//关闭计数
  35   1        if(Echo_Front==0)
  36   1        {
  37   2          Echo_Front = 1;
  38   2          time=TH2;
  39   2          time=time<<8;
  40   2          time=time|TL2;
  41   2          
  42   2          distance=(unsigned int)(time*0.17);
  43   2          
  44   2          //distance= distance * 10;
  45   2          if(distance >= 990)
  46   2          {
  47   3            distance = 990;
  48   3          }
  49   2        }
  50   1        
C51 COMPILER V9.60.0.0   ULTRASONIC                                                        10/02/2023 19:46:33 PAGE 3   

  51   1        else if(TF2==1)
  52   1        {
  53   2          TF2 = 0;
  54   2          
  55   2          distance = 990;
  56   2        }
  57   1        
  58   1        return distance;
  59   1      }
  60          unsigned int Ultrasonic_Get_Left()//得到一次左超声波测距模块的距离
  61          {
  62   1        unsigned int time = 0;
  63   1        unsigned int distance = 0;
  64   1        
  65   1        TF2 = 0;
  66   1        TH2 = 0;
  67   1        TL2 = 0;  
  68   1        
  69   1        Trig_Left = 1; //发送trig信号
  70   1        somenop;somenop;
  71   1        Trig_Left = 0; //发送trig信号完毕
  72   1        while(Echo_Left==0);
  73   1        TR2=1;//开启计数
  74   1        while(TF2==0&&Echo_Left==1);//当Echo为1计数并等待
  75   1        TR2=0;//关闭计数
  76   1        if(Echo_Left==0)
  77   1        {
  78   2          Echo_Left = 1;
  79   2          time=TH2;
  80   2          time=time<<8;
  81   2          time=time|TL2;
  82   2          
  83   2          distance=(unsigned int)(time*0.17);
  84   2          //distance= distance * 10;
  85   2          if(distance >= 990)
  86   2          {
  87   3            distance = 990;
  88   3          }
  89   2        }
  90   1        
  91   1        else if(TF2==1)
  92   1        {
  93   2          TF2 = 0;
  94   2          distance = 990;
  95   2        }
  96   1        
  97   1        return distance;
  98   1      }
  99          unsigned int Ultrasonic_Get_Right()//得到一次右超声波测距模块的距离
 100          {
 101   1        unsigned int time = 0;
 102   1        unsigned int distance = 0;
 103   1        
 104   1        TH2 = 0;
 105   1        TL2 = 0;  
 106   1        
 107   1        Trig_Right = 1; //发送trig信号
 108   1        somenop;somenop;
 109   1        Trig_Right = 0; //发送trig信号完毕
 110   1        while(Echo_Right==0);
 111   1        TR2=1;//开启计数
 112   1        while(TF2==0&&Echo_Right==1);//当Echo为1计数并等待
C51 COMPILER V9.60.0.0   ULTRASONIC                                                        10/02/2023 19:46:33 PAGE 4   

 113   1        TR2=0;//关闭计数
 114   1        if(Echo_Right==0)
 115   1        {
 116   2          Echo_Right = 1;
 117   2          time=TH2;
 118   2          time=time<<8;
 119   2          time=time|TL2;
 120   2          
 121   2          distance=(unsigned int)(time*0.17);
 122   2          //distance= distance * 10;
 123   2          if(distance >= 990)
 124   2          {
 125   3            distance = 990;
 126   3          }
 127   2        }
 128   1        
 129   1        else if(TF2==1)
 130   1        {
 131   2          TF2 = 0;
 132   2          distance = 990;
 133   2        }
 134   1        
 135   1        return distance;
 136   1      }
 137          void delay_ms(unsigned int z)    
 138          {
 139   1         unsigned int i,j;
 140   1         for(j = z;j > 0; j--)
 141   1         for(i = 112;i > 0; i--);
 142   1      }

C51 COMPILATION COMPLETE.  0 WARNING(S),  66 ERROR(S)
